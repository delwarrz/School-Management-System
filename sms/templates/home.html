{% extends 'layouts/base.html' %}

{% block title %}
Home - SMS App
{% endblock %}

{% block content %}
<h1 class="text-2xl font-bold">Welcome to the School Management System</h1>
    {% for student in students %}
        <div class="bg-white shadow-md rounded p-4 mt-4">
            <h2 class="text-xl font-bold">{{ student.name }}</h2>
            <p>{{ student.email }}</p>
            <p>{{ student.phone }}</p>
            <a href="{% url 'edit_student' student.id %}" class="text-blue-500">Edit</a>     
            <a href="{% url 'delete_student' student.id %}" class="text-red-500 ml-4 delete-btn">Delete</a>
            <a href="{% url 'student_details' student.id %}" class="text-green-500 ml-4">View Details</a>
        </div>
    {% endfor %}
{% endblock %}

{% block custom_css %}
{% endblock %}

{% block custom_js %}
<script>
    const deleteBtns = document.querySelectorAll('.delete-btn');
    deleteBtns.forEach(btn => {
        btn.addEventListener('click', (e) => {
            if (!confirm('Are you sure you want to delete this student?')) {
                e.preventDefault();
            }
        });
    });
</script>
{% endblock %}